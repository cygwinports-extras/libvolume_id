diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/libvolume_id-0.81.0/Makefile src/libvolume_id-0.81.0/Makefile
--- origsrc/libvolume_id-0.81.0/Makefile	2007-12-26 18:52:36.000000000 -0600
+++ src/libvolume_id-0.81.0/Makefile	2008-01-24 20:35:08.227250000 -0600
@@ -15,7 +15,7 @@
 SHLIB_CUR = 0
 SHLIB_REV = 81
 SHLIB_AGE = 0
-SHLIB = libvolume_id.so.$(SHLIB_CUR)
+SHLIB = cygvolume_id-$(SHLIB_CUR).dll
 
 OBJS=				\
 	ext.o			\
@@ -72,7 +72,7 @@
 .shlib/%.o: %.c
 	$(E) "  CC      " $@
 	$(Q) mkdir -p $(dir $@)
-	$(Q) $(CC) -c $(CFLAGS) -fPIC $< -o $@
+	$(Q) $(CC) -c $(CFLAGS) -DPIC $< -o $@
 
 libvolume_id.a: $(HEADERS) $(OBJS)
 	$(Q) rm -f $@
@@ -84,7 +84,7 @@
 $(SHLIB): $(HEADERS) exported_symbols $(addprefix .shlib/,$(OBJS))
 	$(E) "  CC      " $@
 	$(Q) $(CC) -shared $(CFLAGS) -o $@ \
-		-Wl,-soname,libvolume_id.so.$(SHLIB_CUR),--version-script,exported_symbols \
+		-Wl,--enable-auto-image-base,--out-implib,libvolume_id.dll.a \
 		$(addprefix .shlib/,$(OBJS))
 
 libvolume_id.pc:
